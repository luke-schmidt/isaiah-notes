% Isaiah Chiastic Overview Component - Approach 2: Bridge/Arch Layout
% Creates an arch-like visual representation of the chiastic structure

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{isaiahChiasticOverview2}[2025/09/05 Isaiah Chiastic Overview - Bridge Layout]

\RequirePackage{tikz}
\usetikzlibrary{shadows,positioning}

% Chiastic overview command - Bridge/arch layout
\newcommand{\isaiahChiasticOverview}[1]{%
    \par\vspace{15pt}%
    % Main title centered at top
    \begin{center}
        \textcolor{blue}{\bfseries\Huge Isaiah 1-12 Chiastic Overview}
    \end{center}
    \vspace{20pt}
    
    \begin{center}
    \begin{tikzpicture}[node distance=0.5cm]
        
        % Intro at top left
        \ifnum#1=1
            \node[draw=black, line width=3pt, rounded corners=8pt, inner sep=8pt,
                  fill=orange!20, drop shadow, text width=2.8cm, minimum height=2cm] (intro) {
                \centering\scriptsize\textbf{Ch. 1}\\
                \textbf{Introduction}\\
                Setting the stage
            };
        \else
            \node[draw=gray, line width=2pt, rounded corners=8pt, inner sep=8pt,
                  fill=orange!5, drop shadow={opacity=0.3}, text width=2.8cm, minimum height=2cm] (intro) {
                \centering\scriptsize\textbf{Ch. 1}\\
                \textbf{Introduction}\\
                Setting the stage
            };
        \fi
        
        % A and A' at the base level (bottom)
        \ifnum#1=2
            \node[draw=black, line width=3pt, rounded corners=8pt, inner sep=8pt,
                  fill=blue!20, drop shadow, text width=3cm, minimum height=2.2cm,
                  below=3.5cm of intro, xshift=-4cm] (A) {
                \centering\scriptsize\textbf{A. Ch. 2-4}\\
                \textbf{Glorious Mt. Zion}\\
                Judgment \& Branch
            };
        \else
            \node[draw=gray, line width=2pt, rounded corners=8pt, inner sep=8pt,
                  fill=blue!5, drop shadow={opacity=0.3}, text width=3cm, minimum height=2.2cm,
                  below=3.5cm of intro, xshift=-4cm] (A) {
                \centering\scriptsize\textbf{A. Ch. 2-4}\\
                \textbf{Glorious Mt. Zion}\\
                Judgment \& Branch
            };
        \fi
        
        \ifnum#1=8
            \node[draw=black, line width=3pt, rounded corners=8pt, inner sep=8pt,
                  fill=blue!20, drop shadow, text width=3cm, minimum height=2.2cm,
                  right=6cm of A] (Aprime) {
                \centering\scriptsize\textbf{A'. Ch. 11-12}\\
                \textbf{Branch brings}\\
                \textbf{Glorious Mt. Zion}
            };
        \else
            \node[draw=gray, line width=2pt, rounded corners=8pt, inner sep=8pt,
                  fill=blue!5, drop shadow={opacity=0.3}, text width=3cm, minimum height=2.2cm,
                  right=6cm of A] (Aprime) {
                \centering\scriptsize\textbf{A'. Ch. 11-12}\\
                \textbf{Branch brings}\\
                \textbf{Glorious Mt. Zion}
            };
        \fi
        
        % B and B' at second level
        \ifnum#1=3
            \node[draw=black, line width=3pt, rounded corners=8pt, inner sep=8pt,
                  fill=green!20, drop shadow, text width=2.8cm, minimum height=2cm,
                  above=0.8cm of A, xshift=0.5cm] (B) {
                \centering\scriptsize\textbf{B. 5:1-25}\\
                \textbf{Vineyard}\\
                Woes/Therefores
            };
        \else
            \node[draw=gray, line width=2pt, rounded corners=8pt, inner sep=8pt,
                  fill=green!5, drop shadow={opacity=0.3}, text width=2.8cm, minimum height=2cm,
                  above=0.8cm of A, xshift=0.5cm] (B) {
                \centering\scriptsize\textbf{B. 5:1-25}\\
                \textbf{Vineyard}\\
                Woes/Therefores
            };
        \fi
        
        \ifnum#1=7
            \node[draw=black, line width=3pt, rounded corners=8pt, inner sep=8pt,
                  fill=green!20, drop shadow, text width=2.8cm, minimum height=2cm,
                  above=0.8cm of Aprime, xshift=-0.5cm] (Bprime) {
                \centering\scriptsize\textbf{B'. 9:8-10:34}\\
                \textbf{Woes/Therefores}\\
                Judgment
            };
        \else
            \node[draw=gray, line width=2pt, rounded corners=8pt, inner sep=8pt,
                  fill=green!5, drop shadow={opacity=0.3}, text width=2.8cm, minimum height=2cm,
                  above=0.8cm of Aprime, xshift=-0.5cm] (Bprime) {
                \centering\scriptsize\textbf{B'. 9:8-10:34}\\
                \textbf{Woes/Therefores}\\
                Judgment
            };
        \fi
        
        % C and C' at third level
        \ifnum#1=4
            \node[draw=black, line width=3pt, rounded corners=8pt, inner sep=8pt,
                  fill=red!20, drop shadow, text width=2.5cm, minimum height=1.8cm,
                  above=0.6cm of B, xshift=0.3cm] (C) {
                \centering\scriptsize\textbf{C. 5:26-30}\\
                \textbf{Assyria}\\
                Only darkness
            };
        \else
            \node[draw=gray, line width=2pt, rounded corners=8pt, inner sep=8pt,
                  fill=red!5, drop shadow={opacity=0.3}, text width=2.5cm, minimum height=1.8cm,
                  above=0.6cm of B, xshift=0.3cm] (C) {
                \centering\scriptsize\textbf{C. 5:26-30}\\
                \textbf{Assyria}\\
                Only darkness
            };
        \fi
        
        \ifnum#1=6
            \node[draw=black, line width=3pt, rounded corners=8pt, inner sep=8pt,
                  fill=red!20, drop shadow, text width=2.5cm, minimum height=1.8cm,
                  above=0.6cm of Bprime, xshift=-0.3cm] (Cprime) {
                \centering\scriptsize\textbf{C'. 9:1-7}\\
                \textbf{Darkness broken}\\
                Promised Child
            };
        \else
            \node[draw=gray, line width=2pt, rounded corners=8pt, inner sep=8pt,
                  fill=red!5, drop shadow={opacity=0.3}, text width=2.5cm, minimum height=1.8cm,
                  above=0.6cm of Bprime, xshift=-0.3cm] (Cprime) {
                \centering\scriptsize\textbf{C'. 9:1-7}\\
                \textbf{Darkness broken}\\
                Promised Child
            };
        \fi
        
        % CENTER at the top of the arch
        \ifnum#1=5
            \node[draw=black, line width=4pt, rounded corners=12pt, inner sep=12pt,
                  fill=yellow!30, drop shadow, text width=3.2cm, minimum height=2.5cm,
                  above=0.8cm of C, xshift=1.5cm] (center) {
                \centering\small\textbf{CENTER}\\
                \textbf{Chapters 6-8}\\
                \textbf{Narrative Middle}\\
                \scriptsize King \& children
            };
        \else
            \node[draw=gray, line width=3pt, rounded corners=12pt, inner sep=12pt,
                  fill=yellow!8, drop shadow={opacity=0.3}, text width=3.2cm, minimum height=2.5cm,
                  above=0.8cm of C, xshift=1.5cm] (center) {
                \centering\small\textbf{CENTER}\\
                \textbf{Chapters 6-8}\\
                \textbf{Narrative Middle}\\
                \scriptsize King \& children
            };
        \fi
        
        % Draw connecting lines to show the arch structure
        \draw[thick, blue!60] (A) -- (B) -- (C) -- (center);
        \draw[thick, blue!60] (center) -- (Cprime) -- (Bprime) -- (Aprime);
        
        % Add decorative arch curve
        \draw[thick, blue!40, dashed] (A) to[bend left=45] (center) to[bend left=45] (Aprime);
        
    \end{tikzpicture}
    \end{center}
    
    \par\vspace{15pt}%
}

\endinput